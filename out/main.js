"use strict";var d=Object.create;var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var u=(x,s)=>{for(var a in s)c(x,a,{get:s[a],enumerable:!0})},i=(x,s,a,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of l(s))!m.call(x,t)&&t!==a&&c(x,t,{get:()=>s[t],enumerable:!(o=g(s,t))||o.enumerable});return x};var h=(x,s,a)=>(a=x!=null?d(w(x)):{},i(s||!x||!x.__esModule?c(a,"default",{value:x,enumerable:!0}):a,x)),f=x=>i(c({},"__esModule",{value:!0}),x);var b={};u(b,{activate:()=>y,deactivate:()=>S});module.exports=f(b);var r=h(require("vscode"));function y(x){console.log("activated"),x.subscriptions.push(v)}var v=r.languages.registerHoverProvider({scheme:"file",language:"asm"},{provideHover(x,s,a){let o=x.getWordRangeAtPosition(s),t=x.getText(o).toLowerCase();if(N(t)&&p.has(t))return new r.Hover(p.get(t).markdownDesc)}}),j=["lodd","stod","addd","subd","jpos","jzer","jump","loco","lodl","stol","addl","subl","jneg","jnze","call","pshi","popi","push","pop","retn","swap","insp","desp","halt"];function N(x){return j.indexOf(x)>=0}var e=class{constructor(s,a){this.argName=s,this.xMode=a,this.desc=`<${this.argName}: ${this.xMode}>`}},n=class{constructor(s,a,o){this.name=s,this.signature=o,this.description=a,this.signature?.arg1&&(this.description=this.description.replace("$1",String.raw`\<${this.signature.arg1.argName}\>`)),this.signature?.arg2&&(this.description=this.description.replace("$2",String.raw`\<${this.signature.arg2.argName}\>`));let t=this.name;this.signature?.arg1&&(t+=` ${this.signature?.arg1.desc}`),this.signature?.arg2&&(t+=` ${this.signature?.arg2.desc}`),this.markdownDesc=new r.MarkdownString().appendCodeblock(t,"asm").appendMarkdown(`
 --- 
`).appendMarkdown(this.description)}},p=new Map([["lodd",new n("lodd","Load direct\n\n`ac := m[x]`\n\n`0000xxxxxxxxxxxx`",{arg1:new e("x","address")})],["stod",new n("stod","Store direct\n\n`m[x] := ac`\n\n`0001xxxxxxxxxxxx`",{arg1:new e("x","address")})],["addd",new n("addd","Add direct\n\n`ac := ac + m[x]`\n\n`0010xxxxxxxxxxxx`",{arg1:new e("x","address")})],["subd",new n("subd","Subtract direct\n\n`ac := ac - m[x]`\n\n`0011xxxxxxxxxxxx`",{arg1:new e("x","address")})],["jpos",new n("jpos","Jump positive\n\n`if ac >= 0 then pc := x`\n\n`0100xxxxxxxxxxxx`",{arg1:new e("x","location")})],["jzer",new n("jzer","Jump zero\n\n`if ac = 0 then pc := x`\n\n`0101xxxxxxxxxxxx`",{arg1:new e("x","location")})],["jump",new n("jump","Jump\n\n`pc := x`\n\n`0110xxxxxxxxxxxx`",{arg1:new e("x","location")})],["loco",new n("loco","Load constant\n\n`ac := x (0 <= x <= 4095)`\n\n`0111xxxxxxxxxxxx`",{arg1:new e("x","constant")})],["lodl",new n("lodl","Load local\n\n`ac := m[sp + x]`\n\n`1000xxxxxxxxxxxx`",{arg1:new e("x","offset")})],["stol",new n("stol","Store local\n\n`m[x + sp] := ac`\n\n`1001xxxxxxxxxxxx`",{arg1:new e("x","offset")})],["addl",new n("addl","Add local\n\n`ac := ac + m[sp + x]`\n\n`1010xxxxxxxxxxxx`",{arg1:new e("x","offset")})],["subl",new n("subl","Subtract local\n\n`ac := ac - m[sp + x]`\n\n`1011xxxxxxxxxxxx`",{arg1:new e("x","offset")})],["jneg",new n("jneg","Jump negative\n\n`if ac < 0 then pc := x`\n\n`1100xxxxxxxxxxxx`",{arg1:new e("x","location")})],["jnze",new n("jnze","Jump nonzero\n\n`if ac != 0 then pc := x`\n\n`1101xxxxxxxxxxxx`",{arg1:new e("x","location")})],["call",new n("call","Call procedure\n\n`sp := sp - 1;`\n\n`m[sp] := pc;`\n\n`pc := x`\n\n`1110xxxxxxxxxxxx`",{arg1:new e("x","location")})],["pshi",new n("pshi","Push indirect\n\n`sp := sp - 1;`\n\n`m[sp] := m[ac]`\n\n`1111000000000000`")],["popi",new n("popi","Pop indirect\n\n`m[ac] := m[sp];`\n\n`sp := sp + 1`\n\n`1111001000000000`")],["push",new n("push","Push onto stack\n\n`sp := sp - 1;`\n\n`m[sp] := ac`\n\n`1111010000000000`")],["pop",new n("pop","Pop from stack\n\n`ac := m[sp];`\n\n`sp := sp + 1`\n\n`1111011000000000`")],["retn",new n("retn","Return\n\n`pc := m[sp];`\n\n`sp := sp + 1`\n\n`1111100000000000`")],["swap",new n("swap","Swap ac, sp\n\n`tmp := ac;`\n\n`ac := sp;`\n\n`sp := tmp`\n\n`1111101000000000`")],["insp",new n("insp","Increment sp\n\n`sp := sp + y (0 <= y <= 255)`\n\n`11111100yyyyyyyy`",{arg1:new e("y","constant")})],["desp",new n("desp","Decrement sp\n\n`sp := sp - y (0 <= y <= 255)`\n\n`11111110yyyyyyyy`")],["halt",new n("halt","Go to debugger interface\n\n`1111111100000000`")]]);function S(){}0&&(module.exports={activate,deactivate});
